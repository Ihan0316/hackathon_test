###############################################
# Environment template (.env.example)
# Copy to .env and adjust values for your setup
###############################################

# General
ENV=dev
TZ=Asia/Seoul

# Ports (host-side)
# Note: On Windows, 8080 is often occupied (e.g., Oracle TNS Listener). We default Nginx to 8085; change NGINX_PORT if needed.
SPRING_PORT=8081
AI_PORT=8000
NGINX_PORT=8085

# Nginx limits
MAX_BODY=25m

# Service routing used by Spring (internal; do not change unless topology changes)
# Spring gateway talks to ai-vision through Docker network name
AI_BASE_URL=http://ai-vision:8000

# =====================
# AI Vision Service (FastAPI)
# =====================
# Classifier model paths in the container
MODEL_PTH_PATH=/app/models/dog_breed_classifier.pth
CLASS_MAP_PATH=/app/models/class_map.json
NUM_CLASSES=20

# Optional: quick training on container start (demo only)
TRAIN_ON_START=0
PRETRAINED=1
FREEZE_BACKBONE=1
MAX_TRAIN_SAMPLES=20
EPOCHS=1
BATCH_SIZE=8
NUM_WORKERS=0
# Default learning rate used in training configs; avoids compose warnings
LR=0.0001
# Gunicorn workers for ai-vision app (defaults to 2 or CPU-based in code)
GUNICORN_WORKERS=2

# Optional similarity index (not required by default UI)
CLIP_MODEL_NAME=clip-ViT-B-32
INDEX_DIR=/app/index
TOPK=5

# =====================
# AI Chatbot Service (FastAPI + OpenAI)
# =====================
# Provide your OpenAI API key. Do not quote. Keep the key secret; .env is gitignored.
OPENAI_API_KEY=
# Default chat model used by ai-chatbot (can be overridden per request)
OPENAI_MODEL=gpt-4o-mini

# Region/context for chatbot answers (used to ground responses)
SERVICE_REGION=광주
PREFERRED_DOMAINS=kcanimal.or.kr

# Other optional integrations (currently unused)
# TAVILY_API_KEY=
